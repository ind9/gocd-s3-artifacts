<div class="form_item_block">
  <label>Material Type:<span class="arterisk">*</span></label>
  <select ng-model="MaterialType" ng-init="MaterialType = MaterialType || 'Package'" ng-change="clearFields()">
    <option value="Package">Package</option>
    <option value="Pipeline">Pipeline</option>
  </select>
</div>

<!-- Package fields -->
<div class="form_item_block" ng-show="MaterialType == 'Package'">
  <label>Repository name:<span class="asterisk">*</span></label>
  <input type="text" ng-model="PackageRepo" ng-required="true">
  <span class="form_error" ng-show="GOINPUTNAME[PackageRepo].$error.server">{{ GOINPUTNAME[PackageRepo].$error.server }}</span>
</div>
<div class="form_item_block" ng-show="MaterialType == 'Package'">
  <label>Package name:<span class="asterisk">*</span></label>
  <input type="text" ng-model="PackageName" ng-required="true">
  <span class="form_error" ng-show="GOINPUTNAME[PackageName].$error.server">{{ GOINPUTNAME[PackageName].$error.server }}</span>
</div>

<!-- Pipeline fields -->
<div class="form_item_block" ng-show="MaterialType == 'Pipeline'">
  <label>Material Name:<span class="asterisk">*</span></label>
  <input type="text" ng-model="PipelineMaterial" ng-required="true">
  <span class="form_error" ng-show="GOINPUTNAME[PipelineMaterial].$error.server">{{ GOINPUTNAME[PipelineMaterial].$error.server }}</span>
</div>
<div class="form_item_block" ng-show="MaterialType == 'Pipeline'">
  <label>Job:<span class="asterisk">*</span></label>
  <input type="text" ng-model="PipelineJob" ng-required="true">
  <span class="form_error" ng-show="GOINPUTNAME[PipelineJob].$error.server">{{ GOINPUTNAME[PipelineJob].$error.server }}</span>
</div>

<div class="form_item_block">
  <label>Destination directory:</label>
  <input type="text" ng-model="Destination">
  <span class="form_error" ng-show="GOINPUTNAME[Destination].$error.server">{{ GOINPUTNAME[Destination].$error.server }}</span>
</div>

<script type="text/javascript">
    jQuery(document).ready(function() {
        var interval = setInterval(function(){
            try {
                var $scope = angular.element(document.getElementById("task_angular_pluggable_task_indix_s3fetch")).scope();
                $scope.$apply(function() {
                    $scope.clearFields = function() {
                        this.PackageRepo = null;
                        this.PackageName = null;

                        this.PipelineMaterial = null;
                        this.PipelineJob = null;
                    };
                });

                clearInterval(interval);
            }
            catch(e) {
            }
        }, 50);
    });
</script>
